<!doctype html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>天气智能网站</title>
	<link rel="stylesheet" href="/static/style.css" />
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
	<div class="container">
		<div class="topbar" style="justify-content:flex-end">
			<input id="city-search" list="city-suggestions" placeholder="搜索城市(中文/拼音/English)" style="padding:8px 12px;border:1px solid var(--card-border);background:var(--card-bg);color:var(--fg);border-radius:10px;min-width:220px" />
			<datalist id="city-suggestions"></datalist>
			<select id="city">
				<option value="北京" selected>北京</option>
				<option value="上海">上海</option>
				<option value="广州">广州</option>
				<option value="深圳">深圳</option>
			</select>
			<span id="city-label" class="chip">北京</span>
			<button id="btn-ip-city" class="btn-primary" style="padding:8px 12px">IP</button>
			<select id="lang">
				<option value="zh">中文</option>
				<option value="en">English</option>
			</select>
			<select id="theme">
				<option value="system" data-i18n="theme.system">系统</option>
				<option value="light" data-i18n="theme.light">浅色</option>
				<option value="dark" data-i18n="theme.dark">深色</option>
			</select>
		</div>

		<div class="assistant">
			<h1 id="title-assistant" data-i18n="assistant.title">生活助手</h1>
			<div class="input-row">
				<input id="query" type="text" data-i18n-placeholder="assistant.placeholder" placeholder="问我：明天/后天穿什么？ 要不要带伞？" />
				<button id="btn-send" class="btn-primary" data-i18n="assistant.send">发送</button>
			</div>
			<div id="result" class="advice" style="margin-top:10px"></div>
		</div>

		<h2 id="title-extremes" data-i18n="extremes.title">未来极端天气</h2>
		<div id="extremes" class="extremes"></div>

		<h2 id="title-forecast" data-i18n="forecast.title">未来7天预报</h2>
		<div id="cards" class="cards"></div>

		<div class="section">
			<h2 id="title-history" data-i18n="history.title">近14天（气温&降水）</h2>
			<canvas id="histChart" height="120"></canvas>
			<div class="hint" id="hint-refresh" data-i18n="history.hint">数据不对？<a href="#" onclick="refreshData();return false;">刷新数据</a></div>
		</div>
	</div>

	<div id="loader" class="loader-overlay" style="display:none"><div class="loader" aria-label="loading"></div></div>
	
	<!-- Data Source Modal -->
	<div id="dataSourceModal" class="data-source-modal">
		<div class="data-source-content">
			<div class="data-source-header">
				<h3 class="data-source-title">数据来源详情</h3>
				<button class="data-source-close" onclick="closeDataSourceModal()">&times;</button>
			</div>
			<div id="dataSourceContent">
				<!-- Content will be populated by JavaScript -->
			</div>
		</div>
	</div>
	
	<script src="/static/app.js?v=weather-ui3"></script>
</body>
</html>
