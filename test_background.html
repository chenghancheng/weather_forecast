<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èƒŒæ™¯åŠ¨ç”»æµ‹è¯• - æµ…è‰²ä¸»é¢˜ä¸“ç”¨</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            transition: all 0.3s ease;
        }
        
        .test-buttons {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .test-buttons h3 {
            margin: 0 0 15px 0;
            color: #1f2937;
        }
        
        button {
            display: block;
            margin: 8px 0;
            padding: 10px 20px;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        
        button:hover {
            background: #1d4ed8;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }
        
        .theme-toggle {
            background: #10b981;
        }
        
        .theme-toggle:hover {
            background: #059669;
        }
        
        .content {
            position: relative;
            z-index: 1;
            color: #1f2937;
            text-shadow: 0 2px 4px rgba(255, 255, 255, 0.8);
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .content h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .content p {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .feature-card h3 {
            color: #2563eb;
            margin-top: 0;
        }
        
        .status-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }
        
        .status-indicator h4 {
            margin: 0 0 10px 0;
            color: #1f2937;
        }
        
        .status-item {
            margin: 5px 0;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="test-buttons">
        <h3>ğŸ¨ èƒŒæ™¯åŠ¨ç”»æµ‹è¯•</h3>
        <button onclick="setSunny()">â˜€ï¸ æ™´å¤©æ¨¡å¼</button>
        <button onclick="setRainy()">ğŸŒ§ï¸ é›¨å¤©æ¨¡å¼</button>
        <button onclick="testAnimation()">ğŸ­ æµ‹è¯•åŠ¨ç”»</button>
        <button onclick="checkStatus()">ğŸ“Š æ£€æŸ¥çŠ¶æ€</button>
    </div>
    
    <div class="status-indicator">
        <h4>ğŸ¯ å½“å‰çŠ¶æ€</h4>
        <div class="status-item">ä¸»é¢˜: <span id="current-theme">æµ…è‰²</span></div>
        <div class="status-item">å¤©æ°”: <span id="current-weather">æ™´å¤©</span></div>
        <div class="status-item">èƒŒæ™¯: <span id="background-status">æ˜¾ç¤ºä¸­</span></div>
    </div>
    
    <div class="content">
        <h1>ğŸ¨ æ¼‚äº®çš„èƒŒæ™¯åŠ¨ç”»æµ‹è¯•é¡µé¢</h1>
        <p>è¿™ä¸ªé¡µé¢ä¸“é—¨ç”¨æ¥æµ‹è¯•æµ…è‰²ä¸»é¢˜ä¸‹çš„åŠ¨æ€èƒŒæ™¯åŠ¨ç”»æ•ˆæœ</p>
        <p>ç‚¹å‡»å·¦ä¾§æŒ‰é’®å¯ä»¥åˆ‡æ¢ä¸åŒçš„å¤©æ°”èƒŒæ™¯æ¨¡å¼</p>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h3>â˜€ï¸ æ™´å¤©æ¨¡å¼</h3>
                <p><strong>èƒŒæ™¯ï¼š</strong>è“å¤©ç™½äº‘æ¸å˜ + æ©™é»„æ¸å˜</p>
                <p><strong>åŠ¨ç”»ï¼š</strong>å¤ªé˜³æµ®åŠ¨ + äº‘æœµé£˜è¿‡</p>
                <p><strong>æ•ˆæœï¼š</strong>æ˜äº®æ¸…æ–°çš„å¤æ—¥æ„Ÿè§‰</p>
            </div>
            
            <div class="feature-card">
                <h3>ğŸŒ§ï¸ é›¨å¤©æ¨¡å¼</h3>
                <p><strong>èƒŒæ™¯ï¼š</strong>æ·±ç°åˆ°æµ…ç°çš„æ¸å˜</p>
                <p><strong>åŠ¨ç”»ï¼š</strong>é›¨æ»´ä¸‹è½ + äº‘æœµé£˜è¿‡</p>
                <p><strong>æ•ˆæœï¼š</strong>å®é™çš„é›¨å¤©æ°›å›´</p>
            </div>
            
            <div class="feature-card">
                <h3>ğŸŒ“ ä¸»é¢˜è¯´æ˜</h3>
                <p><strong>æµ…è‰²ä¸»é¢˜ï¼š</strong>æ˜¾ç¤ºå®Œæ•´çš„èƒŒæ™¯åŠ¨ç”»</p>
                <p><strong>æ·±è‰²ä¸»é¢˜ï¼š</strong>éšè—èƒŒæ™¯åŠ¨ç”»ï¼Œä¿æŒç®€æ´</p>
                <p><strong>è‡ªåŠ¨åˆ‡æ¢ï¼š</strong>æ ¹æ®å¤©æ°”é¢„æŠ¥æ™ºèƒ½é€‰æ‹©</p>
            </div>
        </div>
    </div>

    <!-- åŠ¨æ€èƒŒæ™¯åŠ¨ç”» -->
    <div id="weather-background" class="weather-background">
        <div id="sun-animation" class="sun-animation"></div>
        <div id="rain-animation" class="rain-animation"></div>
        <div id="clouds-animation" class="clouds-animation"></div>
    </div>

    <script>
        // ç®€åŒ–çš„èƒŒæ™¯åŠ¨ç”»æ§åˆ¶å™¨
        class SimpleBackgroundController {
            constructor() {
                this.background = document.getElementById('weather-background');
                this.sunAnimation = document.getElementById('sun-animation');
                this.rainAnimation = document.getElementById('rain-animation');
                this.cloudsAnimation = document.getElementById('clouds-animation');
                this.currentWeather = 'sunny';
                this.init();
            }

            init() {
                this.createClouds();
                this.setWeather('sunny');
                this.updateStatus();
            }

            createClouds() {
                for (let i = 0; i < 5; i++) {
                    this.createCloud(i);
                }
            }

            createCloud(index) {
                const cloud = document.createElement('div');
                cloud.className = 'cloud';
                
                const size = 60 + Math.random() * 80;
                const top = 10 + Math.random() * 30;
                const duration = 20 + Math.random() * 30;
                const delay = Math.random() * 20;
                
                cloud.style.cssText = `
                    width: ${size}px;
                    height: ${size * 0.6}px;
                    top: ${top}%;
                    animation-duration: ${duration}s;
                    animation-delay: -${delay}s;
                `;
                
                const beforeSize = size * 0.4;
                const afterSize = size * 0.3;
                
                cloud.style.setProperty('--before-size', `${beforeSize}px`);
                cloud.style.setProperty('--after-size', `${afterSize}px`);
                cloud.style.setProperty('--before-left', `${size * 0.2}px`);
                cloud.style.setProperty('--before-top', `${size * 0.3}px`);
                cloud.style.setProperty('--after-left', `${size * 0.6}px`);
                cloud.style.setProperty('--after-top', `${size * 0.2}px`);
                
                this.cloudsAnimation.appendChild(cloud);
            }

            createRainDrops() {
                this.rainAnimation.innerHTML = '';
                
                for (let i = 0; i < 100; i++) {
                    const drop = document.createElement('div');
                    drop.className = 'rain-drop';
                    
                    const left = Math.random() * 100;
                    const duration = 0.5 + Math.random() * 1;
                    const delay = Math.random() * 2;
                    
                    drop.style.cssText = `
                        left: ${left}%;
                        animation-duration: ${duration}s;
                        animation-delay: -${delay}s;
                    `;
                    
                    this.rainAnimation.appendChild(drop);
                }
            }

            setWeather(weather) {
                if (this.currentWeather === weather) return;
                
                this.currentWeather = weather;
                this.background.classList.remove('sunny', 'rainy');
                this.background.classList.add(weather);
                
                if (weather === 'sunny') {
                    this.sunAnimation.classList.add('show');
                    this.rainAnimation.classList.remove('show');
                    this.cloudsAnimation.classList.add('show');
                } else if (weather === 'rainy') {
                    this.sunAnimation.classList.remove('show');
                    this.rainAnimation.classList.add('show');
                    this.cloudsAnimation.classList.add('show');
                    this.createRainDrops();
                }
                
                this.updateStatus();
            }

            updateStatus() {
                document.getElementById('current-weather').textContent = 
                    this.currentWeather === 'sunny' ? 'æ™´å¤©' : 'é›¨å¤©';
                
                const isVisible = this.background.style.display !== 'none';
                document.getElementById('background-status').textContent = 
                    isVisible ? 'æ˜¾ç¤ºä¸­' : 'å·²éšè—';
            }
        }

        // åˆå§‹åŒ–èƒŒæ™¯æ§åˆ¶å™¨
        const bgController = new SimpleBackgroundController();

        // æµ‹è¯•å‡½æ•°
        function setSunny() {
            bgController.setWeather('sunny');
            console.log('åˆ‡æ¢åˆ°æ™´å¤©æ¨¡å¼');
        }

        function setRainy() {
            bgController.setWeather('rainy');
            console.log('åˆ‡æ¢åˆ°é›¨å¤©æ¨¡å¼');
        }

        function testAnimation() {
            // å¿«é€Ÿåˆ‡æ¢åŠ¨ç”»æ¥æµ‹è¯•æ•ˆæœ
            setSunny();
            setTimeout(() => setRainy(), 2000);
            setTimeout(() => setSunny(), 4000);
            console.log('å¼€å§‹åŠ¨ç”»æµ‹è¯•å¾ªç¯');
        }

        function checkStatus() {
            const background = document.getElementById('weather-background');
            const sun = document.getElementById('sun-animation');
            const rain = document.getElementById('rain-animation');
            const clouds = document.getElementById('clouds-animation');
            
            console.log('=== èƒŒæ™¯åŠ¨ç”»çŠ¶æ€æ£€æŸ¥ ===');
            console.log('èƒŒæ™¯å®¹å™¨:', background);
            console.log('å¤ªé˜³åŠ¨ç”»:', sun);
            console.log('é›¨æ»´åŠ¨ç”»:', rain);
            console.log('äº‘æœµåŠ¨ç”»:', clouds);
            console.log('å½“å‰å¤©æ°”ç±»:', background.className);
            console.log('å¤ªé˜³æ˜¾ç¤ºçŠ¶æ€:', sun.classList.contains('show'));
            console.log('é›¨æ»´æ˜¾ç¤ºçŠ¶æ€:', rain.classList.contains('show'));
            console.log('äº‘æœµæ˜¾ç¤ºçŠ¶æ€:', clouds.classList.contains('show'));
            console.log('========================');
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            console.log('èƒŒæ™¯åŠ¨ç”»æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            console.log('å½“å‰ä¸»é¢˜:', document.documentElement.getAttribute('data-theme'));
            console.log('èƒŒæ™¯åŠ¨ç”»å·²åˆå§‹åŒ–');
        });
    </script>

    <!-- å¼•å…¥æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="frontend/style.css" />
</body>
</html>
